{% extends "layouts/main.html" %}

{% block page_title %}{{ result.name }} – {{ settings.title }}{% endblock %}

{% block body_class %}organisation{% endblock %}

{% block header %}

{% endblock %}

{% block content %}
<div class="banner">
  <div class="row">
    <div class="columns small-12 large-12">
      <h1>{{ result.name }}</h1>
      <p class="banner-buttons">
        <a href="https://opencorporates.com/companies/{{ result.registrationCountry }}/{{ result.registrationNumber }}">
          <span class="emoji-flag">{{ extraData.emojiFlag }}</span>
          {{ result.registrationNumber }}
        </a><a href="{{ result.payload.organisationUrls[0] }}">Website</a><a href="{{ result.payload.privacyNoticeUrl.url }}">Privacy notice</a>
      </p>
    </div>
  </div>
</div>

<div class="overview">
  <div class="row">
    <div class="columns small-12 large-12">
      <h2>Overview</h2>
      <ul>
        {% for item in extraData.overviewMatrix %}
          {% if item != false %}
          <li>
            {% if item.status == "good" %}
              <span>✅</span>
            {% elif item.status == "warning" %}
              <span>⚠️</span>
            {% endif %}
            <span>{{ item.message | safe }}</span>
          </li>
          {% endif %}
        {% endfor %}
      </ul>
    </div>
  </div>
</div>

<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Data Protection Officer</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3>Name</h3>
    <p>{{ result.payload.dataProtectionOfficer.name }}</p>

    <h3>Role</h3>
    <p>{{ result.payload.dataProtectionOfficer.role }}</p>

    {% set contactInfo = result.payload.dataProtectionOfficer.contactInfo %}
    {% include 'partials/_contact_info.html' %}
  </div>
</div>




<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Data protection register</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3>Identifier</h3>
    <p>{{ result.payload.dataProtectionRegister.identifier }}</p>

    <h3>URL</h3>
    <p>
      <a href="{{ result.payload.dataProtectionRegister.url }}" target="_blank">{{ result.payload.dataProtectionRegister.url }}</a>
    </p>
  </div>
</div>





<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>International transfer</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3>US–EU Privacy Shield URL</h3>
    <p>
      <a href="#">{{ result.payload.internationalTransfer.privacyShieldUrl }}</a>
    </p>

    <h3>Data processing addendum</h3>
    {% set addendumType = result.payload.internationalTransfer.dataProcessingAddendum.type %}
    {% if addendumType == "form" %}
    <p>Form</p>
    {% elif addendumType == "setting" %}
    <p>Setting</p>
    {% elif addendumType == "assumed" %}
    <p>Assumed</p>
    {% endif %}

    <a href="{{ result.payload.internationalTransfer.dataProcessingAddendum.url }}" target="_blank">{{ result.payload.internationalTransfer.dataProcessingAddendum.url }}</a>

    <h3>Notes</h3>
    <p>{{ result.payload.internationalTransfer.dataProcessingAddendum.notes }}</p>
  </div>
</div>


<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Third parties</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3>List</h3>
    <ul>
      {% for item in result.payload.thirdParties.list %}
      <li><p>{{ item }}</p></li>
      {% endfor %}
    </ul>

    <h3>Notes</h3>
    <p>{{ result.payload.thirdParties.notes }}</p>
  </div>
</div>

<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Retention rules</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3>Notes</h3>
    <p>{{ result.payload.retentionRules.notes }}</p>
  </div>
</div>


<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Data categories collected</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3>List</h3>
    <ul>
      {% for item in result.payload.dataTypesCollected.list %}
      <li><p>{{ item | replace("_", " ") | capitalize }}{{ item | highlightSpecialCategory }}</p></li>
      {% endfor %}
    </ul>

    <h3>Notes</h3>
    <p>{{ result.payload.dataTypesCollected.notes }}</p>
  </div>
</div>

<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Automated decision making</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3></h3>
    {% if result.payload.automatedDecisionMaking.usesAutomatedDecisionMaking %}
    <p>Uses automated decision making</p>
    {% else %}
    <p>No automated decision making</p>
    {% endif %}

    <h3>Notes</h3>
    <p>{{ result.payload.automatedDecisionMaking.notes }}</p>
  </div>
</div>


<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Complaint information</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3></h3>
    {% if result.payload.complaintInformation.present %}
    <p>Has complaint information</p>
    {% else %}
    <p>No complaint information</p>
    {% endif %}

    <h3>Notes</h3>
    <p>{{ result.payload.complaintInformation.notes }}</p>
  </div>
</div>


<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Security standards</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    <h3></h3>

    {% set specificity = result.payload.securityStandards.specificity %}

    {% if specificity == "specific" %}
    <p>Specific</p>
    {% elif specificity == "general" %}
    <p>General</p>
    {% elif specificity == "none" %}
    <p>None</p>
    {% endif %}


    <p>
      <a href="{{ result.payload.securityStandards.url }}" target="_blank">{{ result.payload.securityStandards.url }}</a>
    </p>

    <h3>Notes</h3>
    <p>{{ result.payload.securityStandards.notes }}</p>
  </div>
</div>


<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Lawful bases</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">

    {% set lawfulBases = result.payload.lawfulBases %}

    <h3>Consent</h3>
    <p>{{ lawfulBases.consent }}</p>

    <h3>Contract</h3>
    <p>{{ lawfulBases.contract }}</p>

    <h3>Legal obligation</h3>
    <p>{{ lawfulBases.legalObligation }}</p>

    <h3>Vital interests</h3>
    <p>{{ lawfulBases.vitalInterests }}</p>

    <h3>Public task</h3>
    <p>{{ lawfulBases.publicTask }}</p>

    <h3>Legitimate interests</h3>
    <p>{{ lawfulBases.legitimateInterests }}</p>

    <h3>Notes</h3>
    <p>{{ lawfulBases.notes }}</p>

  </div>
</div>


<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Rights</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">
    {% set rights = result.payload.rights %}


    <h3>General</h3>
    {% set contactInfo = rights.general.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.general.notes }}</p>

    <h3>Access</h3>
    {% set contactInfo = rights.access.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.access.notes }}</p>

    <h3>Rectification</h3>
    {% set contactInfo = rights.rectification.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.rectification.notes }}</p>

    <h3>Erasure</h3>
    {% set contactInfo = rights.erasure.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.erasure.notes }}</p>

    <h3>Restrict processing</h3>
    {% set contactInfo = rights.restrictProcessing.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.restrictProcessing.notes }}</p>

    <h3>Data portability</h3>
    {% set contactInfo = rights.dataPortability.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.dataPortability.notes }}</p>

    <h3>Object</h3>
    {% set contactInfo = rights.object.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.object.notes }}</p>

    <h3>Automated decision making</h3>
    {% set contactInfo = rights.automatedDecisionMaking.contactInfo %}
    {% include 'partials/_contact_info.html' %}
    <h3>Notes</h3>
    <p>{{ rights.automatedDecisionMaking.notes }}</p>
  </div>
</div>

<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Processing purposes</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">

    <h3>Notes</h3>
    <p>{{ result.payload.unusualProcessingPurposes.notes }}</p>

  </div>
</div>

<div class="row data-row">
  <div class="column small-12 large-6 description">
    <h2>Transparency recommendations</h2>
    <p>Description</p>
    <p><a href="#">Link to ICO website</a></p>
  </div>
  <div class="column small-12 large-6 data">

    {% set points = result.payload.transparencyRecommendations %}

    {% if points.plainLanguage %}
    <p>Plain language</p>
    {% endif %}

    {% if points.definiteLanguage %}
    <p>Definite language</p>
    {% endif %}

    {% if points.easyToFind %}
    <p>Easy to find</p>
    {% endif %}

    {% if points.legibleDesign %}
    <p>Legible design</p>
    {% endif %}

  </div>
</div>


{% endblock %}
